import{r as n,j as e,m as c,a as R,A as U,b as V,M as _,d as b,l as G}from"./index-c-vxCIvZ.js";import{T as Q}from"./Tidio-CrK4rgmx.js";const W="/assets/noarticle-BJxS4Uoj.png";function q(){const[h,m]=n.useState([]),[l,x]=n.useState([]);n.useEffect(()=>{(async()=>{const v=await(await fetch("/src/assets/sampleBlogs.json")).json();m(v.blogs)})()},[]);const y=i=>{l.includes(i)?x(l.filter(d=>d!==i)):x([...l,i])};return e.jsx("div",{className:"container mx-auto px-4 py-8",children:h.length===0?e.jsx(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-16",children:e.jsxs("div",{className:"notfound opacity-50 mt-[-120px]",children:[e.jsx("img",{src:"/path/to/NoarticleImage.png",alt:"No articles",className:"mx-auto w-64 h-64 opacity-70"}),e.jsx("h2",{className:"text-2xl font-bold text-indigo-600 mb-4",children:"No Articles Found - Explore Sample Articles"}),e.jsx("p",{className:"text-gray-500",children:"Check back later or start writing your first article!"})]})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:h.map(i=>e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transition-transform transform hover:scale-105",children:[e.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:i.title}),e.jsxs("p",{className:"text-gray-600 text-base mb-4",children:[i.content[0],"..."]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>y(i.name),className:`${l.includes(i.name)?"bg-indigo-600 text-white":"bg-gray-200 text-gray-800"} flex items-center px-4 py-2 rounded-full transition-colors`,children:[e.jsx("span",{className:`mr-2 ${l.includes(i.name)?"text-white":"text-gray-800"}`,children:"ðŸ‘"}),l.includes(i.name)?"Liked":"Like"]}),e.jsx("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded-full hover:bg-indigo-700 transition-colors",children:"Read More"})]})]})]},i.name))})})}const Z=()=>{const[h,m]=n.useState([]),[l,x]=n.useState([]),[y,i]=n.useState(""),[d,v]=n.useState("newest"),[N,J]=n.useState(null),[k,A]=n.useState(!0),[K,S]=n.useState(null),[C,T]=n.useState(!1),j=`${G}`,[g,f]=n.useState(1),[p,L]=n.useState(1),[F,M]=n.useState(0),P=9,$=R(t=>t.auth.theme),B={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},E={initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:10,duration:.4}},hover:{scale:1.05,rotate:[0,-5,5,0],transition:{type:"spring",stiffness:300,duration:.2}},tap:{scale:.95,transition:{duration:.1}}},I={hidden:{opacity:0,scale:.9,y:20},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:200,damping:10}},hover:{scale:1.03,boxShadow:"0 15px 30px rgba(0,0,0,0.1), 0 10px 20px rgba(0,0,0,0.08)",transition:{duration:.3}}};n.useEffect(()=>{const t=async()=>{try{const s=await b.get(`${j}/api/article/getallarticle`,{params:{page:g,limit:P}});if(s.status===200){const{articles:r,totalPages:u,totalArticles:O}=s.data;m(r),x(w(r,d)),L(u),M(O)}}catch{S("Error fetching articles")}finally{A(!1)}};(()=>{const s=localStorage.getItem("token");T(!!s)})(),t()},[g]),n.useEffect(()=>{x(w(h,d))},[h,d]);const w=(t,a)=>[...t].sort((s,r)=>{switch(a){case"most-liked":return(r.likes||0)-(s.likes||0);case"newest":return new Date(r.createdAt).getTime()-new Date(s.createdAt).getTime();case"oldest":return new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime();case"more than 500 words":return o(r.content)-o(s.content);case"less than 500 words":return o(s.content)-o(r.content);case"more than 1000 words":return o(r.content)-o(s.content);case"less than 1000 words":return o(s.content)-o(r.content);default:return new Date(r.createdAt).getTime()-new Date(s.createdAt).getTime()}}).filter(s=>{switch(a){case"more than 500 words":return o(s.content)>500;case"less than 500 words":return o(s.content)<=500;case"more than 1000 words":return o(s.content)>1e3;case"less than 1000 words":return o(s.content)<=1e3;default:return!0}}),o=t=>t?t.trim().split(/\s+/).length:0,D=t=>{const a=t.target.value.toLowerCase();i(a),x(w(h.filter(s=>{var r;return s.title.toLowerCase().includes(a)||((r=s.content)==null?void 0:r.toLowerCase().includes(a))}),d))},H=async t=>{try{if(t==="Others"){const r=(await b.get(`${j}/api/article/getallarticle`)).data.articles.filter(u=>!u.tag||u.tag===""||u.tag==="Uncategorized");m(r)}else{const a=await b.post(`${j}/api/article/getarticlebytag`,{tag:t});m(a.data.articles||[])}}catch(a){console.error("Error fetching articles by tag",a)}},z=()=>e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-center items-center gap-2 mt-8 mb-4 text-sm",children:[e.jsx("button",{onClick:()=>f(t=>Math.max(t-1,1)),disabled:g===1,className:`px-2 py-1 ${g===1?"text-gray-400 cursor-not-allowed dark:text-gray-600":"text-gray-600 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-indigo-400"} transition-colors duration-200`,children:"â† Prev"}),e.jsx("div",{className:"flex gap-1",children:[...Array(p)].map((t,a)=>e.jsx("button",{onClick:()=>f(a+1),className:`w-8 h-8 rounded-full transition-colors duration-200 ${g===a+1?"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-300":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800/50"}`,children:a+1},a+1))}),e.jsx("button",{onClick:()=>f(t=>Math.min(t+1,p)),disabled:g===p,className:`px-2 py-1 ${g===p?"text-gray-400 cursor-not-allowed dark:text-gray-600":"text-gray-600 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-indigo-400"} transition-colors duration-200`,children:"Next â†’"})]});return e.jsxs(e.Fragment,{children:[e.jsx(Q,{}),e.jsx(c.div,{initial:"initial",animate:"in",exit:"out",variants:B,className:"bg-gradient-to-br from-indigo-50 via-purple-100 to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 min-h-screen py-10 pt-24",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx(c.h1,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-5xl font-extrabold text-center bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-transparent bg-clip-text mb-12",children:"Explore Articles"}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row justify-between items-center mb-8 space-y-4 md:space-y-0",children:[e.jsx("input",{type:"text",placeholder:"Search articles...",value:y,onChange:D,className:"w-full md:w-1/2 px-4 py-3 rounded-xl bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-indigo-400 transition duration-300"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("select",{value:N,onChange:t=>H(t.target.value),className:"px-4 py-3 rounded-xl bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("option",{value:"Tech",children:"Technology"}),e.jsx("option",{value:"Music",children:"Music"}),e.jsx("option",{value:"Game",children:"Gaming"}),e.jsx("option",{value:"Movies",children:"Movies"}),e.jsx("option",{value:"Books",children:"Books"}),e.jsx("option",{value:"Food",children:"Food"}),e.jsx("option",{value:"Travel",children:"Travel"}),e.jsx("option",{value:"Fashion",children:"Fashion"}),e.jsx("option",{value:"Health",children:"Health"}),e.jsx("option",{value:"Sports",children:"Sports"}),e.jsx("option",{value:"Sci-Fi",children:"Sci-Fi"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Politics",children:"Politics"}),e.jsx("option",{value:"Narratives",children:"Narratives"}),e.jsx("option",{value:"Trending-Topics",children:"Trending-Topics"}),e.jsx("option",{value:"Others",children:"Others"})]}),e.jsxs("select",{value:d,onChange:t=>v(t.target.value),className:"px-4 py-3 rounded-xl bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("option",{value:"most-liked",children:"Most Liked"}),e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"}),e.jsx("option",{value:"more than 500 words",children:"More than 500 words"}),e.jsx("option",{value:"less than 500 words",children:"Less than 500 words"}),e.jsx("option",{value:"more than 1000 words",children:"More than 1000 words"}),e.jsx("option",{value:"less than 1000 words",children:"Less than 1000 words"})]})]})]}),C&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 mb-8 flex justify-end",children:e.jsxs("button",{onClick:()=>window.location.href="/addarticle",className:`
                px-6 py-3 rounded-lg font-medium
                transform transition-all duration-300 hover:scale-105
                flex items-center gap-2 shadow-lg
                ${$==="light"?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-indigo-500 text-white hover:bg-indigo-600"}
              `,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Article"]})}),!k&&l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(c.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(U,{children:l.map(t=>e.jsxs(c.div,{variants:I,initial:"hidden",animate:"visible",whileHover:"hover",className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden",children:[t.thumbnail&&e.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-48 object-cover transition-transform duration-300 hover:scale-105"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-xs",children:t.tag||"Uncategorized"}),e.jsx(V,{articleId:t._id,initialLikes:t.likes||0})]}),e.jsx("h3",{className:"text-xl font-bold text-indigo-800 dark:text-indigo-200 mb-3",children:t.title}),e.jsx(_,{className:"text-gray-600 dark:text-gray-300 h-20 mb-8 line-clamp-3",children:t.content?`${t.content.substring(0,300)}${t.content.length>300?"...":""}`:"No description available."}),e.jsx(c.button,{variants:E,initial:"initial",animate:"animate",whileHover:"hover",whileTap:"tap",onClick:()=>window.location.href=`/article/${t.name}`,className:" relative w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white py-3 rounded-xl hover:from-indigo-600 hover:to-purple-700 transition duration-300 bottom-4",children:"Read More"})]})]},t._id))})}),e.jsx(z,{}),e.jsxs("p",{className:"text-center text-gray-600 dark:text-gray-400 mt-4",children:["Showing ",l.length," of ",F," articles"]})]}),!k&&l.length===0&&e.jsxs(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-16",children:[e.jsxs("div",{className:"notfound opacity-50 mt-[-120px]",children:[e.jsx("img",{src:W,alt:"No articles",className:" mx-auto w-64 h-64 opacity-70"}),e.jsx("h2",{className:"text-2xl font-bold text-indigo-600 mb-4",children:"No Articles Found - Explore sample articles"}),e.jsx("p",{className:"text-gray-500",children:"Check back later or start writing your first article!"})]}),e.jsx(q,{})]})]})})]})};export{Z as default};
